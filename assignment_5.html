<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>assignment_5.qmd</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="assignment_5_files/libs/clipboard/clipboard.min.js"></script>
<script src="assignment_5_files/libs/quarto-html/quarto.js"></script>
<script src="assignment_5_files/libs/quarto-html/popper.min.js"></script>
<script src="assignment_5_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="assignment_5_files/libs/quarto-html/anchor.min.js"></script>
<link href="assignment_5_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="assignment_5_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="assignment_5_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="assignment_5_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="assignment_5_files/libs/bootstrap/bootstrap-c0367b04c37547644fece4185067e4a7.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">assignment_5.qmd</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="assignment-5-data-transformation-and-visualization---part-2" class="level1">
<h1>Assignment 5: Data transformation and visualization - Part 2</h1>
<p><br></p>
<section id="instructions-please-read-through-this-before-you-begin" class="level2">
<h2 class="anchored" data-anchor-id="instructions-please-read-through-this-before-you-begin">Instructions: Please read through this before you begin</h2>
<ul>
<li><p>This assignment is due by <strong>10pm on Thursday 10/02/2025</strong>. Please upload it using your personal GitHub repository for this class.</p></li>
<li><p>Please name your Quarto file <code>assignment_5.qmd</code> and the rendered markdown file <code>assignment_5.md</code>.</p></li>
<li><p>For this assignment, please <strong>reproduce this markdown file</strong> using R markdown. This includes the followings:</p>
<ul>
<li><p><strong>Reproduce this markdown template</strong>, except for this list of instructions which you <strong>don’t</strong> have to include. Pay attention to all the formatting in this file, including bullet points, bolded characters, inserted code chunks, headings, text colors, blank lines, etc.</p></li>
<li><p>Have all your code embedded within the R markdown file, and show <strong>BOTH your code and plots</strong> in the knitted markdown file.</p></li>
<li><p>When a verbal response is needed, answer by editing the part in the R markdown template where it says “Write your response here”.</p></li>
<li><p>Use R Markdown functionalities to <strong>hide messages and warnings when needed</strong>. (Suggestion: messages and warnings can often be informative and important, so please examine them carefully and only turn them off when you finish the exercise).</p></li>
</ul></li>
<li><p>Please note that Questions 2.8-2.11 are <strong>optional</strong>.</p></li>
</ul>
<p><br></p>
<p>First, load all the required packages with the following code. Install them if they are not installed yet.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gapminder)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.2     ✔ tibble    3.3.0
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.1.0     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gapminder) <span class="do">##install.packages(gapminder)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exercise-1.-trends-in-land-value" class="level2">
<h2 class="anchored" data-anchor-id="exercise-1.-trends-in-land-value">Exercise 1. Trends in land value</h2>
<p>This excercise uses a dataset that describes the trends in land value (<code>Land.Value</code>), among other variables, in different states in the US 1975-2013. The states are grouped into four different regions, under the variable <code>region</code>. This dataset was obtained from the Data Science Services of Harvard University.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>housing <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/nt246/NTRES-6100-data-science/master/datasets/landdata_states.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 7803 Columns: 11
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (2): State, region
dbl (9): Date, Home.Value, Structure.Cost, Land.Value, Land.Share..Pct., Hom...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>housing <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 9%">
<col style="width: 12%">
<col style="width: 9%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 4%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">State</th>
<th style="text-align: left;">region</th>
<th style="text-align: right;">Date</th>
<th style="text-align: right;">Home.Value</th>
<th style="text-align: right;">Structure.Cost</th>
<th style="text-align: right;">Land.Value</th>
<th style="text-align: right;">Land.Share..Pct.</th>
<th style="text-align: right;">Home.Price.Index</th>
<th style="text-align: right;">Land.Price.Index</th>
<th style="text-align: right;">Year</th>
<th style="text-align: right;">Qrtr</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">AK</td>
<td style="text-align: left;">West</td>
<td style="text-align: right;">2010.25</td>
<td style="text-align: right;">224952</td>
<td style="text-align: right;">160599</td>
<td style="text-align: right;">64352</td>
<td style="text-align: right;">28.6</td>
<td style="text-align: right;">1.481</td>
<td style="text-align: right;">1.552</td>
<td style="text-align: right;">2010</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">AK</td>
<td style="text-align: left;">West</td>
<td style="text-align: right;">2010.50</td>
<td style="text-align: right;">225511</td>
<td style="text-align: right;">160252</td>
<td style="text-align: right;">65259</td>
<td style="text-align: right;">28.9</td>
<td style="text-align: right;">1.484</td>
<td style="text-align: right;">1.576</td>
<td style="text-align: right;">2010</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AK</td>
<td style="text-align: left;">West</td>
<td style="text-align: right;">2009.75</td>
<td style="text-align: right;">225820</td>
<td style="text-align: right;">163791</td>
<td style="text-align: right;">62029</td>
<td style="text-align: right;">27.5</td>
<td style="text-align: right;">1.486</td>
<td style="text-align: right;">1.494</td>
<td style="text-align: right;">2009</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">AK</td>
<td style="text-align: left;">West</td>
<td style="text-align: right;">2010.00</td>
<td style="text-align: right;">224994</td>
<td style="text-align: right;">161787</td>
<td style="text-align: right;">63207</td>
<td style="text-align: right;">28.1</td>
<td style="text-align: right;">1.481</td>
<td style="text-align: right;">1.524</td>
<td style="text-align: right;">2009</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AK</td>
<td style="text-align: left;">West</td>
<td style="text-align: right;">2008.00</td>
<td style="text-align: right;">234590</td>
<td style="text-align: right;">155400</td>
<td style="text-align: right;">79190</td>
<td style="text-align: right;">33.8</td>
<td style="text-align: right;">1.544</td>
<td style="text-align: right;">1.885</td>
<td style="text-align: right;">2007</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">AK</td>
<td style="text-align: left;">West</td>
<td style="text-align: right;">2008.25</td>
<td style="text-align: right;">233714</td>
<td style="text-align: right;">157458</td>
<td style="text-align: right;">76256</td>
<td style="text-align: right;">32.6</td>
<td style="text-align: right;">1.538</td>
<td style="text-align: right;">1.817</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>housing <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/nt246/NTRES-6100-data-science/master/datasets/landdata_states.csv"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>housing <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table style="width:99%;">
<colgroup>
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
</colgroup>
<thead>
<tr>
<th style="text-align: left;">
<p>
State
</p>
</th>
<th style="text-align: left;">
<p>
region
</p>
</th>
<th style="text-align: right;">
<p>
Date
</p>
</th>
<th style="text-align: right;">
<p>
Home.Value
</p>
</th>
<th style="text-align: right;">
<p>
Structure.Cost
</p>
</th>
<th style="text-align: right;">
<p>
Land.Value
</p>
</th>
<th style="text-align: right;">
<p>
Land.Share..Pct.
</p>
</th>
<th style="text-align: right;">
<p>
Home.Price.Index
</p>
</th>
<th style="text-align: right;">
<p>
Land.Price.Index
</p>
</th>
<th style="text-align: right;">
<p>
Year
</p>
</th>
<th style="text-align: right;">
<p>
Qrtr
</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">
<p>
AK
</p>
</td>
<td style="text-align: left;">
<p>
West
</p>
</td>
<td style="text-align: right;">
<p>
2010.25
</p>
</td>
<td style="text-align: right;">
<p>
224952
</p>
</td>
<td style="text-align: right;">
<p>
160599
</p>
</td>
<td style="text-align: right;">
<p>
64352
</p>
</td>
<td style="text-align: right;">
<p>
28.6
</p>
</td>
<td style="text-align: right;">
<p>
1.481
</p>
</td>
<td style="text-align: right;">
<p>
1.552
</p>
</td>
<td style="text-align: right;">
<p>
2010
</p>
</td>
<td style="text-align: right;">
<p>
1
</p>
</td>
</tr>
<tr>
<td style="text-align: left;">
<p>
AK
</p>
</td>
<td style="text-align: left;">
<p>
West
</p>
</td>
<td style="text-align: right;">
<p>
2010.50
</p>
</td>
<td style="text-align: right;">
<p>
225511
</p>
</td>
<td style="text-align: right;">
<p>
160252
</p>
</td>
<td style="text-align: right;">
<p>
65259
</p>
</td>
<td style="text-align: right;">
<p>
28.9
</p>
</td>
<td style="text-align: right;">
<p>
1.484
</p>
</td>
<td style="text-align: right;">
<p>
1.576
</p>
</td>
<td style="text-align: right;">
<p>
2010
</p>
</td>
<td style="text-align: right;">
<p>
2
</p>
</td>
</tr>
<tr>
<td style="text-align: left;">
<p>
AK
</p>
</td>
<td style="text-align: left;">
<p>
West
</p>
</td>
<td style="text-align: right;">
<p>
2009.75
</p>
</td>
<td style="text-align: right;">
<p>
225820
</p>
</td>
<td style="text-align: right;">
<p>
163791
</p>
</td>
<td style="text-align: right;">
<p>
62029
</p>
</td>
<td style="text-align: right;">
<p>
27.5
</p>
</td>
<td style="text-align: right;">
<p>
1.486
</p>
</td>
<td style="text-align: right;">
<p>
1.494
</p>
</td>
<td style="text-align: right;">
<p>
2009
</p>
</td>
<td style="text-align: right;">
<p>
3
</p>
</td>
</tr>
<tr>
<td style="text-align: left;">
<p>
AK
</p>
</td>
<td style="text-align: left;">
<p>
West
</p>
</td>
<td style="text-align: right;">
<p>
2010.00
</p>
</td>
<td style="text-align: right;">
<p>
224994
</p>
</td>
<td style="text-align: right;">
<p>
161787
</p>
</td>
<td style="text-align: right;">
<p>
63207
</p>
</td>
<td style="text-align: right;">
<p>
28.1
</p>
</td>
<td style="text-align: right;">
<p>
1.481
</p>
</td>
<td style="text-align: right;">
<p>
1.524
</p>
</td>
<td style="text-align: right;">
<p>
2009
</p>
</td>
<td style="text-align: right;">
<p>
4
</p>
</td>
</tr>
<tr>
<td style="text-align: left;">
<p>
AK
</p>
</td>
<td style="text-align: left;">
<p>
West
</p>
</td>
<td style="text-align: right;">
<p>
2008.00
</p>
</td>
<td style="text-align: right;">
<p>
234590
</p>
</td>
<td style="text-align: right;">
<p>
155400
</p>
</td>
<td style="text-align: right;">
<p>
79190
</p>
</td>
<td style="text-align: right;">
<p>
33.8
</p>
</td>
<td style="text-align: right;">
<p>
1.544
</p>
</td>
<td style="text-align: right;">
<p>
1.885
</p>
</td>
<td style="text-align: right;">
<p>
2007
</p>
</td>
<td style="text-align: right;">
<p>
4
</p>
</td>
</tr>
<tr>
<td style="text-align: left;">
<p>
AK
</p>
</td>
<td style="text-align: left;">
<p>
West
</p>
</td>
<td style="text-align: right;">
<p>
2008.25
</p>
</td>
<td style="text-align: right;">
<p>
233714
</p>
</td>
<td style="text-align: right;">
<p>
157458
</p>
</td>
<td style="text-align: right;">
<p>
76256
</p>
</td>
<td style="text-align: right;">
<p>
32.6
</p>
</td>
<td style="text-align: right;">
<p>
1.538
</p>
</td>
<td style="text-align: right;">
<p>
1.817
</p>
</td>
<td style="text-align: right;">
<p>
2008
</p>
</td>
<td style="text-align: right;">
<p>
1
</p>
</td>
</tr>
</tbody>
</table>
<section id="washington-dc-was-not-assigned-to-a-region-in-this-dataset.-according-to-the-united-states-census-bureau-however-dc-is-part-of-the-south-region.-here" class="level4">
<h4 class="anchored" data-anchor-id="washington-dc-was-not-assigned-to-a-region-in-this-dataset.-according-to-the-united-states-census-bureau-however-dc-is-part-of-the-south-region.-here">1.1 Washington DC was not assigned to a region in this dataset. According to the United States Census Bureau, however, DC is part of the South region. Here:</h4>
<ul>
<li><p>Change the region of DC to “South” (Hint: there are multiple ways to do this, but <code>mutate()</code> and <code>ifelse()</code> might be helpful)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>housing <span class="sc">|&gt;</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">region =</span> <span class="fu">ifelse</span>(State<span class="sc">==</span><span class="st">"DC"</span>,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"South"</span>, </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                         region)) <span class="sc">|&gt;</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(region, State, Land.Value, Date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7,803 × 4
   region State Land.Value  Date
   &lt;chr&gt;  &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt;
 1 West   AK         64352 2010.
 2 West   AK         65259 2010.
 3 West   AK         62029 2010.
 4 West   AK         63207 2010 
 5 West   AK         79190 2008 
 6 West   AK         76256 2008.
 7 West   AK         72906 2008.
 8 West   AK         69460 2009.
 9 West   AK         66299 2009 
10 West   AK         63971 2009.
# ℹ 7,793 more rows</code></pre>
</div>
</div></li>
<li><p>Create a new tibble or regular dataframe consisting of this new updated <code>region</code> variable along with the original variables <code>State</code>, <code>Date</code> and <code>Land.Value</code> (and no others)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>housingUpdated <span class="ot">&lt;-</span> housing <span class="sc">|&gt;</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">region =</span> <span class="fu">ifelse</span>(State<span class="sc">==</span><span class="st">"DC"</span>,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"South"</span>, </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                         region)) <span class="sc">|&gt;</span> </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(region, State, Land.Value, Date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p>Pull out the records from DC in this new data frame. How many records are there from DC? Show the first 6 lines.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>recordsDC <span class="ot">&lt;-</span> housingUpdated <span class="sc">|&gt;</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(State<span class="sc">==</span><span class="st">"DC"</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(recordsDC) <span class="do">## first six.. unsure if "head" is exactly 6 or if it is just chance </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  region State Land.Value  Date
  &lt;chr&gt;  &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt;
1 South  DC        290522 2003 
2 South  DC        305673 2003.
3 South  DC        323078 2004.
4 South  DC        342010 2004.
5 South  DC        361999 2004 
6 South  DC        382792 2004.</code></pre>
</div>
</div></li>
</ul>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Hregion</th>
<th style="text-align: left;">State</th>
<th style="text-align: right;">Land.Value</th>
<th style="text-align: right;">Date</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">South</td>
<td style="text-align: left;">DC</td>
<td style="text-align: right;">290522</td>
<td style="text-align: right;">2003.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">South</td>
<td style="text-align: left;">DC</td>
<td style="text-align: right;">305673</td>
<td style="text-align: right;">2003.25</td>
</tr>
<tr class="odd">
<td style="text-align: left;">South</td>
<td style="text-align: left;">DC</td>
<td style="text-align: right;">323078</td>
<td style="text-align: right;">2003.50</td>
</tr>
<tr class="even">
<td style="text-align: left;">South</td>
<td style="text-align: left;">DC</td>
<td style="text-align: right;">342010</td>
<td style="text-align: right;">2003.75</td>
</tr>
<tr class="odd">
<td style="text-align: left;">South</td>
<td style="text-align: left;">DC</td>
<td style="text-align: right;">361999</td>
<td style="text-align: right;">2004.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">South</td>
<td style="text-align: left;">DC</td>
<td style="text-align: right;">382792</td>
<td style="text-align: right;">2004.25</td>
</tr>
</tbody>
</table>
<p>Answer: <span style="color:blue"></span>Answer is in above code chunks (i think)</p>
</section>
<section id="generate-a-tibbledataframe-that-summarizes-the-mean-land-value-of-each-region-at-each-time-point-and-show-its-first-6-lines." class="level4">
<h4 class="anchored" data-anchor-id="generate-a-tibbledataframe-that-summarizes-the-mean-land-value-of-each-region-at-each-time-point-and-show-its-first-6-lines.">1.2 Generate a tibble/dataframe that summarizes the mean land value of each region at each time point and show its first 6 lines.</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>MeanLandValueByRevion <span class="ot">&lt;-</span> housing <span class="sc">|&gt;</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(region,Date) <span class="sc">|&gt;</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">MeanLandValue =</span> <span class="fu">mean</span>(Land.Value, <span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'region'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(MeanLandValueByRevion) <span class="do">## top of the dataset </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  region   Date MeanLandValue
  &lt;chr&gt;   &lt;dbl&gt;         &lt;dbl&gt;
1 Midwest 1975.         2452.
2 Midwest 1976.         2499.
3 Midwest 1976.         2608.
4 Midwest 1976          2780 
5 Midwest 1976.         2967.
6 Midwest 1976.         3213.</code></pre>
</div>
</div>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">region</th>
<th style="text-align: right;">Date</th>
<th style="text-align: right;">mean_land_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Midwest</td>
<td style="text-align: right;">1975.25</td>
<td style="text-align: right;">2452.167</td>
</tr>
<tr class="even">
<td style="text-align: left;">Midwest</td>
<td style="text-align: right;">1975.50</td>
<td style="text-align: right;">2498.917</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Midwest</td>
<td style="text-align: right;">1975.75</td>
<td style="text-align: right;">2608.167</td>
</tr>
<tr class="even">
<td style="text-align: left;">Midwest</td>
<td style="text-align: right;">1976.00</td>
<td style="text-align: right;">2780.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Midwest</td>
<td style="text-align: right;">1976.25</td>
<td style="text-align: right;">2967.333</td>
</tr>
<tr class="even">
<td style="text-align: left;">Midwest</td>
<td style="text-align: right;">1976.50</td>
<td style="text-align: right;">3212.833</td>
</tr>
</tbody>
</table>
<p><br></p>
</section>
<section id="using-the-tibbledataframe-from-1.2-plot-the-trend-in-mean-land-value-of-each-region-through-time." class="level4">
<h4 class="anchored" data-anchor-id="using-the-tibbledataframe-from-1.2-plot-the-trend-in-mean-land-value-of-each-region-through-time.">1.3 Using the tibble/dataframe from 1.2, plot the trend in mean land value of each region through time.</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>housingUpdated <span class="ot">&lt;-</span> housing <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">region =</span> <span class="fu">ifelse</span>(State <span class="sc">==</span> <span class="st">"DC"</span>, <span class="st">"South"</span>, region)) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(region, State, Land.Value, Date)<span class="do">## okay I see why naming conventions are REALLY important now. </span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>MeanLandValueByRevion <span class="ot">&lt;-</span> housingUpdated <span class="sc">|&gt;</span> </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(region,Date) <span class="sc">|&gt;</span> </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">MeanLandValue =</span> <span class="fu">mean</span>(Land.Value, <span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'region'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(MeanLandValueByRevion,</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x=</span>Date,</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y=</span>MeanLandValue,</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">color=</span>region))<span class="sc">+</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size=</span><span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span> <span class="st">"Mean Land by Region(1975-2013)"</span>,</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span><span class="st">"Year"</span>,</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">"Mean Land Value"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="assignment_5_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><img src="assignment_5_files/figure-gfm/unnamed-chunk-5-1.png" class="img-fluid"><!-- --></p>
<p><br></p>
</section>
</section>
<section id="exercise-2.-life-expectancy-and-gdp-per-capita-1952-2007" class="level2">
<h2 class="anchored" data-anchor-id="exercise-2.-life-expectancy-and-gdp-per-capita-1952-2007">Exercise 2. Life expectancy and GDP per capita 1952-2007</h2>
<p>This exercise uses the <code>gapminder</code> dataset from the <code>gapminder</code> package. It describes the life expectancy (<code>lifeExp</code>), GDP per capita (<code>gdpPercap</code>), and population (<code>pop</code>) of 142 countries from 1952 to 2007. These countries can be grouped into 5 continents. As a reminder, <strong>reproduce the following plots exactly as shown</strong>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">country</th>
<th style="text-align: left;">continent</th>
<th style="text-align: right;">year</th>
<th style="text-align: right;">lifeExp</th>
<th style="text-align: right;">pop</th>
<th style="text-align: right;">gdpPercap</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: right;">1952</td>
<td style="text-align: right;">28.801</td>
<td style="text-align: right;">8425333</td>
<td style="text-align: right;">779.4453</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: right;">1957</td>
<td style="text-align: right;">30.332</td>
<td style="text-align: right;">9240934</td>
<td style="text-align: right;">820.8530</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: right;">1962</td>
<td style="text-align: right;">31.997</td>
<td style="text-align: right;">10267083</td>
<td style="text-align: right;">853.1007</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: right;">1967</td>
<td style="text-align: right;">34.020</td>
<td style="text-align: right;">11537966</td>
<td style="text-align: right;">836.1971</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: right;">1972</td>
<td style="text-align: right;">36.088</td>
<td style="text-align: right;">13079460</td>
<td style="text-align: right;">739.9811</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: right;">1977</td>
<td style="text-align: right;">38.438</td>
<td style="text-align: right;">14880372</td>
<td style="text-align: right;">786.1134</td>
</tr>
</tbody>
</table>
<p><br></p>
<section id="use-a-scatterplot-to-explore-the-relationship-between-per-capita-gdp-gdppercap-and-life-expectancy-lifeexp-in-the-year-2007." class="level4">
<h4 class="anchored" data-anchor-id="use-a-scatterplot-to-explore-the-relationship-between-per-capita-gdp-gdppercap-and-life-expectancy-lifeexp-in-the-year-2007.">2.1 Use a scatterplot to explore the relationship between per capita GDP (<code>gdpPercap</code>) and life expectancy (<code>lifeExp</code>) in the year 2007.</h4>
<p><img src="assignment_5_files/figure-gfm/unnamed-chunk-7-1.png" class="img-fluid"><!-- --></p>
<p><br></p>
</section>
<section id="add-a-smoothing-line-to-the-previous-plot." class="level4">
<h4 class="anchored" data-anchor-id="add-a-smoothing-line-to-the-previous-plot.">2.2 Add a smoothing line to the previous plot.</h4>
<p><img src="assignment_5_files/figure-gfm/unnamed-chunk-8-1.png" class="img-fluid"><!-- --></p>
<p><br></p>
</section>
<section id="exclude-oceania-from-the-previous-plot-show-each-continent-in-a-different-color-and-fit-a-separate-smoothing-line-to-each-continent-to-identify-differences-in-this-relationship-between-continents.-turn-off-the-confidence-intervals." class="level4">
<h4 class="anchored" data-anchor-id="exclude-oceania-from-the-previous-plot-show-each-continent-in-a-different-color-and-fit-a-separate-smoothing-line-to-each-continent-to-identify-differences-in-this-relationship-between-continents.-turn-off-the-confidence-intervals.">2.3 Exclude Oceania from the previous plot, show each continent in a different color, and fit a separate smoothing line to each continent to identify differences in this relationship between continents. Turn off the confidence intervals.</h4>
<p>Note: only two Oceanian countries are included in this dataset, and <code>geom_smooth()</code> does not work with two data points, which is why they are excluded.</p>
<p><img src="assignment_5_files/figure-gfm/unnamed-chunk-9-1.png" class="img-fluid"><!-- --></p>
<p><br></p>
</section>
<section id="use-faceting-to-solve-the-same-problem.-include-the-confidence-intervals-in-this-plot." class="level4">
<h4 class="anchored" data-anchor-id="use-faceting-to-solve-the-same-problem.-include-the-confidence-intervals-in-this-plot.">2.4 Use faceting to solve the same problem. Include the confidence intervals in this plot.</h4>
<p><img src="assignment_5_files/figure-gfm/unnamed-chunk-10-1.png" class="img-fluid"><!-- --></p>
<p><br></p>
</section>
<section id="explore-the-trend-in-life-expectancy-through-time-in-each-continent.-color-by-continent." class="level4">
<h4 class="anchored" data-anchor-id="explore-the-trend-in-life-expectancy-through-time-in-each-continent.-color-by-continent.">2.5 Explore the trend in life expectancy through time in each continent. Color by continent.</h4>
<p><img src="assignment_5_files/figure-gfm/unnamed-chunk-11-1.png" class="img-fluid"><!-- --></p>
<p><br></p>
</section>
<section id="from-the-previous-plot-we-see-some-abnormal-trends-in-asia-and-africa-where-the-the-life-expectancy-in-some-countries-sharply-dropped-at-certain-time-periods.-here-we-look-into-what-happened-in-asia-in-more-detail.-first-create-a-new-dataset-by-filtering-only-the-asian-countries.-show-the-first-6-lines-of-this-filtered-dataset." class="level4">
<h4 class="anchored" data-anchor-id="from-the-previous-plot-we-see-some-abnormal-trends-in-asia-and-africa-where-the-the-life-expectancy-in-some-countries-sharply-dropped-at-certain-time-periods.-here-we-look-into-what-happened-in-asia-in-more-detail.-first-create-a-new-dataset-by-filtering-only-the-asian-countries.-show-the-first-6-lines-of-this-filtered-dataset.">2.6 From the previous plot, we see some abnormal trends in Asia and Africa, where the the life expectancy in some countries sharply dropped at certain time periods. Here, we look into what happened in Asia in more detail. First, create a new dataset by filtering only the Asian countries. Show the first 6 lines of this filtered dataset.</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">country</th>
<th style="text-align: left;">continent</th>
<th style="text-align: right;">year</th>
<th style="text-align: right;">lifeExp</th>
<th style="text-align: right;">pop</th>
<th style="text-align: right;">gdpPercap</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: right;">1952</td>
<td style="text-align: right;">28.801</td>
<td style="text-align: right;">8425333</td>
<td style="text-align: right;">779.4453</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: right;">1957</td>
<td style="text-align: right;">30.332</td>
<td style="text-align: right;">9240934</td>
<td style="text-align: right;">820.8530</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: right;">1962</td>
<td style="text-align: right;">31.997</td>
<td style="text-align: right;">10267083</td>
<td style="text-align: right;">853.1007</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: right;">1967</td>
<td style="text-align: right;">34.020</td>
<td style="text-align: right;">11537966</td>
<td style="text-align: right;">836.1971</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: right;">1972</td>
<td style="text-align: right;">36.088</td>
<td style="text-align: right;">13079460</td>
<td style="text-align: right;">739.9811</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: right;">1977</td>
<td style="text-align: right;">38.438</td>
<td style="text-align: right;">14880372</td>
<td style="text-align: right;">786.1134</td>
</tr>
</tbody>
</table>
<p><br></p>
</section>
<section id="using-the-filtered-dataset-identify-the-countries-that-had-abnormal-trends-in-life-expectancy-by-plotting-and-discuss-historical-events-possibly-explaining-these-trends.-hint-facet-by-country" class="level4">
<h4 class="anchored" data-anchor-id="using-the-filtered-dataset-identify-the-countries-that-had-abnormal-trends-in-life-expectancy-by-plotting-and-discuss-historical-events-possibly-explaining-these-trends.-hint-facet-by-country">2.7 Using the filtered dataset, identify the countries that had abnormal trends in life expectancy <strong>by plotting</strong>, and discuss historical events possibly explaining these trends. (Hint: facet by country)</h4>
<p>Answer: <span style="color:blue">Write your response here.</span></p>
<p><br> <br></p>
<hr>
<p><br></p>
</section>
<section id="the-last-four-questions-are-optional" class="level4">
<h4 class="anchored" data-anchor-id="the-last-four-questions-are-optional">THE LAST FOUR QUESTIONS ARE OPTIONAL</h4>
<p><br></p>
</section>
<section id="explore-the-trend-in-per-capita-gdp-through-time-on-each-continent-optional" class="level4">
<h4 class="anchored" data-anchor-id="explore-the-trend-in-per-capita-gdp-through-time-on-each-continent-optional">2.8 Explore the trend in per capita GDP through time on each continent (<strong>OPTIONAL</strong>)</h4>
<p><img src="assignment_5_files/figure-gfm/unnamed-chunk-14-1.png" class="img-fluid"><!-- --></p>
<p><br></p>
</section>
<section id="there-is-one-asian-country-that-had-a-very-sharp-decline-in-per-capita-gdp.-with-the-previously-filtered-dataset-use-a-plot-to-identify-this-country-and-speculate-on-the-historical-event-underlying-this-pattern-optional" class="level4">
<h4 class="anchored" data-anchor-id="there-is-one-asian-country-that-had-a-very-sharp-decline-in-per-capita-gdp.-with-the-previously-filtered-dataset-use-a-plot-to-identify-this-country-and-speculate-on-the-historical-event-underlying-this-pattern-optional">2.9 There is one Asian country that had a very sharp decline in per capita GDP. With the previously filtered dataset, <strong>use a plot</strong> to identify this country and speculate on the historical event underlying this pattern (<strong>OPTIONAL</strong>)</h4>
<p><br></p>
<p>Answer: <span style="color:blue">Write your response here.</span></p>
<p><br></p>
</section>
<section id="starting-from-the-full-gapminder-dataset-explore-the-relationship-between-per-capita-gdp-gdppercap-and-life-expectancy-lifeexp-in-1952-and-in-2007-using-a-scatter-plot-as-shown-below.-color-the-the-points-that-represent-different-countries-based-on-the-continent-that-they-are-in-and-make-the-size-of-the-points-proportional-to-the-population-size-optional" class="level4">
<h4 class="anchored" data-anchor-id="starting-from-the-full-gapminder-dataset-explore-the-relationship-between-per-capita-gdp-gdppercap-and-life-expectancy-lifeexp-in-1952-and-in-2007-using-a-scatter-plot-as-shown-below.-color-the-the-points-that-represent-different-countries-based-on-the-continent-that-they-are-in-and-make-the-size-of-the-points-proportional-to-the-population-size-optional">2.10 Starting from the full <code>gapminder</code> dataset, explore the relationship between per capita GDP (<code>gdpPercap</code>) and life expectancy (<code>lifeExp</code>) in 1952 and in 2007 using a scatter plot as shown below. Color the the points that represent different countries based on the continent that they are in, and make the size of the points proportional to the population size (<strong>OPTIONAL</strong>)</h4>
<p><img src="assignment_5_files/figure-gfm/unnamed-chunk-16-1.png" class="img-fluid"><!-- --></p>
<p><br></p>
</section>
<section id="polish-the-previous-plot-to-make-it-more-informative-and-nicer-looking.-below-is-an-example-of-what-you-can-do-but-you-dont-have-to-completely-replicate-this-optional" class="level4">
<h4 class="anchored" data-anchor-id="polish-the-previous-plot-to-make-it-more-informative-and-nicer-looking.-below-is-an-example-of-what-you-can-do-but-you-dont-have-to-completely-replicate-this-optional">2.11 Polish the previous plot to make it more informative and nicer looking. Below is an example of what you can do, but you don’t have to completely replicate this (<strong>OPTIONAL</strong>)</h4>
<p><img src="assignment_5_files/figure-gfm/unnamed-chunk-17-1.png" class="img-fluid"><!-- --></p>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>